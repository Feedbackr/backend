<!DOCTYPE html>
<html
	xmlns:th="http://www.thymeleaf.org"
	lang="en"
>
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<title>Feedbackr panel</title>
		<link
			rel="stylesheet"
			th:href="@{/css/output.css}"
		/>
	</head>
	<body class="m-6 dark:bg-slate-800 overflow-x-clip">
		<header>
			<nav
				class="border-gray-200 bg-gray-50 dark:bg-gray-800 dark:border-gray-700"
			>
				<div
					class="flex gap-3 items-center justify-between p-4 w-full *:flex *:items-center *:gap-3 *:justify-center *:p-4 *:w-full"
				>
					<div>
						<a class="flex items-center space-x-3 rtl:space-x-reverse">
							<img
								th:attr="src=${receiverLogo}"
								alt=""
								width="64"
							/>
						</a>
						<h1
							class="text-1xl font-extrabold text-gray-900 dark:text-white md:text-2xl lg:text-4xl"
						>
							Welcome to your
							<span
								class="text-transparent bg-clip-text bg-gradient-to-r to-emerald-600 from-sky-400"
								>panel</span
							>...
							<p class="hidden text-sm opacity-60 lg:block font-extralight">
								(Hover over feedback card while holding shift and click to hide
								the selected feedback card)
							</p>
						</h1>
					</div>
					<div class="flex gap-3 items-center">
						<button
							id="theme-toggle"
							type="button"
							class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5"
						>
							<svg
								id="theme-toggle-dark-icon"
								class="hidden w-5 h-5"
								fill="currentColor"
								viewBox="0 0 20 20"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
								></path>
							</svg>
							<svg
								id="theme-toggle-light-icon"
								class="hidden w-5 h-5"
								fill="currentColor"
								viewBox="0 0 20 20"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
									fill-rule="evenodd"
									clip-rule="evenodd"
								></path>
							</svg>
						</button>
						<button
							onclick="window.location.href = '/logout';"
							type="button"
							class="text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg sm:text-sm sm:py-2.5 sm:px-5 text-xs px-1 py-1.5 text-center dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-900"
						>
							Log Out
						</button>
					</div>
				</div>
			</nav>
		</header>
		<main>
			<div class="w-full max-w-96 min-w-fit m-3">
				<div class="relative">
					<label
						for="npm-install-copy-button"
						class="sr-only"
						>Label</label>
					<input
						id="npm-install-copy-button"
						type="text"
						class="col-span-6 bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"
						th:value="|https://feedbackr.live/${receiverId}|"
						disabled
						readonly
					/>
					<button
						data-copy-to-clipboard-target="npm-install-copy-button"
						data-tooltip-target="tooltip-copy-npm-install-copy-button"
						class="absolute end-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg p-2 inline-flex items-center justify-center"
					>
						<span id="default-icon">
							<svg
								class="w-3.5 h-3.5"
								aria-hidden="true"
								xmlns="http://www.w3.org/2000/svg"
								fill="currentColor"
								viewBox="0 0 18 20"
							>
								<path
									d="M16 1h-3.278A1.992 1.992 0 0 0 11 0H7a1.993 1.993 0 0 0-1.722 1H2a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2Zm-3 14H5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2Zm0-4H5a1 1 0 0 1 0-2h8a1 1 0 1 1 0 2Zm0-5H5a1 1 0 0 1 0-2h2V2h4v2h2a1 1 0 1 1 0 2Z"
								/>
							</svg>
						</span>
						<span
							id="success-icon"
							class="hidden inline-flex items-center"
						>
							<svg
								class="w-3.5 h-3.5 text-blue-700 dark:text-blue-500"
								aria-hidden="true"
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 16 12"
							>
								<path
									stroke="currentColor"
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M1 5.917 5.724 10.5 15 1.5"
								/>
							</svg>
						</span>
					</button>
					<div
						id="tooltip-copy-npm-install-copy-button"
						role="tooltip"
						class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"
					>
						<span id="default-tooltip-message">Copy to clipboard</span>
						<span
							id="success-tooltip-message"
							class="hidden"
							>Copied!</span
						>
						<div
							class="tooltip-arrow"
							data-popper-arrow
						></div>
					</div>
				</div>
			</div>

			<div class="py-12 flex gap-6 flex-wrap">
				<div
					th:if="${feedbacks.empty}"
					class="grid grid-rows-2 text-slate-200 dark:text-gray-400 *:items-center"
				>
					<h1>No feedbacks received yet!</h1>
				</div>
				<!-- prettier-ignore -->
				<div th:each="feedback : ${feedbacks}"
					class="
					grid grid-rows-2 p-6 rounded-xl bg-slate-700 text-slate-200 dark:bg-slate-950 dark:text-gray-400 
					*:flex *:gap-2 *:items-center
					delete-indicator"
				>
					<h3 class="p-2">

						<svg
							class="w-4 h-4 text-gray-500 dark:text-gray-400"
							aria-hidden="true"
							xmlns="http://www.w3.org/2000/svg"
							fill="currentColor"
							viewBox="0 0 20 16"
						>
							<path
								d="m10.036 8.278 9.258-7.79A1.979 1.979 0 0 0 18 0H2A1.987 1.987 0 0 0 .641.541l9.395 7.737Z"
							/>
							<path
								d="M11.241 9.817c-.36.275-.801.425-1.255.427-.428 0-.845-.138-1.187-.395L0 2.6V14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2.5l-8.759 7.317Z"
							/></svg><span th:text="${feedback.senderEmail}"></span>
					</h3>
					<h5 class="p-2 px-1">
						<svg
							class="w-6 h-6 text-gray-800 dark:text-white"
							aria-hidden="true"
							xmlns="http://www.w3.org/2000/svg"
							width="24"
							height="24"
							fill="none"
							viewBox="0 0 24 24"
						>
							<path
								stroke="currentColor"
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M12 8v4l3 3m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
							/>
						</svg>
						<span th:text="${feedback.timestamp}"></span>
					</h5>
					<p class="whitespace-pre-line" th:text="${feedback.feedbackContent}">
					</p>
				</div>
			</div>
		</main>
	</body>
	<script src="https://cdn.jsdelivr.net/npm/flowbite@2.3.0/dist/flowbite.min.js"></script>
	<script th:src="@{/js/theme-manager.js}"></script>
	<script th:src="@{/js/delete-indicator.js}"></script>
</html>
